"use strict";(self.webpackChunkdelivery_app=self.webpackChunkdelivery_app||[]).push([[35],{1687:function(e,n,r){r.d(n,{Dg:function(){return p},LV:function(){return u},jC:function(){return d},l8:function(){return l}});var t=r(5861),i=r(4687),a=r.n(i),s=r(1243),o=r(8867),c=r(5218);s.Z.defaults.baseURL="https://eliftech-testtask.onrender.com/";var d=function(){var e=(0,t.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("/api/products");case 3:return n=e.sent,e.abrupt("return",n.data.data.products);case 7:throw e.prev=7,e.t0=e.catch(0),c.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432:",e.t0.message),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("/api/products/sushi");case 3:return n=e.sent,e.abrupt("return",n.data.data.products);case 7:throw e.prev=7,e.t0=e.catch(0),c.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432:",e.t0.message),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(a().mark((function e(n,r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("/api/products/order",{userData:n,selectedProducts:r});case 3:c.Am.success("Your order accepted!"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),(t=e.t0.response.data.message).includes("duplicate key error collection")?c.Am.success("You are already registered, your order accepted"):console.log(t);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(a().mark((function e(n,r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r();case 3:t=e.sent,n((0,o.Xp)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,r){return e.apply(this,arguments)}}()},6981:function(e,n,r){r.d(n,{Z:function(){return se}});var t,i,a,s,o,c,d,l,u,p=r(9439),h=r(8008),x=r(4395),m=r(4554),f=r(4708),v=r(7924),Z=r(9953),j=r(3400),g=r(493),y=r(5021),b=r(6278),w=r(4663),P=r(890),k=r(4942),C=r(1413),z=r(1907),S=r(6151),A=r(2791),D=r(9434),E=r(8867),F=r(168),I=r(7133),M=r(7691),H=M.ZP.form(t||(t=(0,F.Z)(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),L=(0,M.ZP)(I.Z)(i||(i=(0,F.Z)(["\n  margin-bottom: 5px;\n"]))),_=r(5218),G=r(184),Q=function(){var e=(0,A.useState)({name:"",email:"",phone:"380",address:""}),n=(0,p.Z)(e,2),r=n[0],t=n[1],i=(0,D.I0)(),a=function(e){var n=e.target,r=n.id,i=n.value;t((function(e){return(0,C.Z)((0,C.Z)({},e),{},(0,k.Z)({},r,i))}))};return(0,G.jsxs)(H,{onSubmit:function(e){e.preventDefault();var n={name:r.name,email:r.email,phone:r.phone,address:r.address};""!==n.email&&"380"!==n.phone&&""!==n.address&&""!==n.name?(i((0,E.lg)(n)),t({name:"",email:"",phone:"",address:""})):_.Am.error("Enter your data")},children:[(0,G.jsx)(L,{htmlFor:"name",children:"Name"}),(0,G.jsx)(z.Z,{type:"text",variant:"outlined",placeholder:"Enter your name",id:"name",value:r.name,onChange:a}),(0,G.jsx)(L,{htmlFor:"email",children:"Email"}),(0,G.jsx)(z.Z,{type:"text",variant:"outlined",placeholder:"Enter your email",id:"email",value:r.email,onChange:a}),(0,G.jsx)(L,{htmlFor:"phone",children:"Phone"}),(0,G.jsx)(z.Z,{type:"number",variant:"outlined",placeholder:"Enter your phone",id:"phone",value:r.phone,onChange:a}),(0,G.jsx)(L,{htmlFor:"address",children:"Address"}),(0,G.jsx)(z.Z,{type:"text",variant:"outlined",placeholder:"Enter your Address",id:"address",value:r.address,onChange:a}),(0,G.jsx)(S.Z,{sx:{marginTop:"10px"},variant:"contained",type:"submit",children:"Save my data"})]})},R=r(5370),T=r(8087),U=r(1889),W=r(6647),Y=r(9504),B=r(2363),J=r(2169),N=r(7621),O=(0,M.ZP)(J.Z)(a||(a=(0,F.Z)(["\n  transition: transform 0.2s ease-out;\n"]))),V=(0,M.ZP)(N.Z)(s||(s=(0,F.Z)(["\n  &:hover {\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);\n  }\n  &:hover Img {\n    transform: scale(1.05);\n  }\n"]))),X=M.ZP.div(o||(o=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: space-between;\n  overflow: hidden;\n"]))),q=M.ZP.div(c||(c=(0,F.Z)(["\n  display: flex;\n  align-items: center;\n"]))),K=M.ZP.p(d||(d=(0,F.Z)(["\n  color: blue;\n  font-size: 1.5rem;\n  margin: 0;\n"]))),$=function(){var e=(0,D.I0)(),n=(0,D.v9)((function(e){return e.cart})).selectedItems;return(0,G.jsx)("div",{children:(0,G.jsx)(U.ZP,{container:!0,spacing:2,children:null===n||void 0===n?void 0:n.map((function(n){return(0,G.jsx)(U.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,G.jsx)(V,{style:{height:"100%"},children:(0,G.jsxs)(X,{children:[(0,G.jsxs)(W.Z,{children:[(0,G.jsx)(O,{component:"img",image:n.image,title:n.title}),(0,G.jsxs)(Y.Z,{children:[(0,G.jsx)(P.Z,{gutterBottom:!0,variant:"h5",component:"h2",children:n.title}),(0,G.jsx)(P.Z,{variant:"body2",color:"textSecondary",component:"p",children:n.description}),(0,G.jsxs)(P.Z,{variant:"h6",component:"p",children:[n.price," UAH"]})]})]}),(0,G.jsx)(B.Z,{sx:{display:"flex",alignItems:"flex-end"},children:n.amount<1?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(S.Z,{onClick:function(){e((0,E.Rl)({id:n._id,title:n.title,description:n.description,image:n.image,price:n.price,amount:n.amount}))},variant:"contained",size:"small",color:"primary",children:"Add to cart"})," "]}):(0,G.jsxs)(q,{children:[(0,G.jsx)(S.Z,{onClick:function(){return e((0,E.QZ)(n.id))},children:(0,G.jsx)(R.Z,{})}),(0,G.jsx)(K,{children:n.amount}),(0,G.jsx)(S.Z,{onClick:function(){e((0,E.QJ)(n.id))},children:(0,G.jsx)(T.Z,{})})]})})]})})},n.id)}))})})},ee=r(1687),ne=function(){var e=(0,D.I0)(),n=(0,D.v9)((function(e){return e.cart})),r=n.selectedShop,t=n.isActive,i=function(n){var r=n.target.id;e((0,E.gS)({shop:r}))};return(0,A.useEffect)((function(){"sushi"===r?(0,ee.Dg)(e,ee.l8):"pizza"===r&&(0,ee.Dg)(e,ee.jC)}),[e,r]),(0,G.jsx)(m.Z,{children:(0,G.jsx)("nav",{"aria-label":"secondary mailbox folders",children:(0,G.jsxs)(g.Z,{children:[(0,G.jsx)(y.ZP,{disablePadding:!0,children:(0,G.jsx)(b.Z,{children:(0,G.jsx)(S.Z,{disabled:t.isPizzaActive,sx:{width:"150px"},variant:"contained",onClick:i,id:"pizza",children:"Pizza"})})}),(0,G.jsx)(y.ZP,{disablePadding:!0,children:(0,G.jsx)(b.Z,{children:(0,G.jsx)(S.Z,{disabled:t.isSushiActive,sx:{width:"150px"},variant:"contained",onClick:i,id:"sushi",children:"Sushi"})})})]})})})},re=r(7689),te=r(1087),ie=(0,M.ZP)(te.OL)(l||(l=(0,F.Z)(["\n  text-decoration: none;\n  font-size: 1.25rem;\n  line-height: 1.6;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: inherit;\n  font-family: monospace;\n  font-weight: 700;\n\n  &."," {\n    color: darkblue;\n    text-decoration: underline;\n  }\n"])),(function(e){return e.activeclassname})),ae=(M.ZP.div(u||(u=(0,F.Z)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nheight: 100%;\n"]))),(0,A.lazy)((function(){return r.e(152).then(r.bind(r,152))})));var se=function(e){var n=e.window,r=(0,A.useState)(!1),t=(0,p.Z)(r,2),i=t[0],a=t[1],s=(0,D.v9)((function(e){return e.cart})).formData,o=(0,re.TH)(),c="/cart"===o.pathname?300:200,d=function(){a(!i)},l=(0,G.jsxs)("div",{children:[(0,G.jsx)(w.Z,{}),(0,G.jsx)(v.Z,{}),(0,G.jsxs)(g.Z,{children:[(0,G.jsx)(y.ZP,{disablePadding:!0,children:(0,G.jsx)(b.Z,{children:(0,G.jsx)(ie,{to:"/",activeclassname:"active",children:"Shop"})})}),(0,G.jsx)(y.ZP,{disablePadding:!0,children:(0,G.jsx)(b.Z,{children:(0,G.jsx)(ie,{to:"/cart",activeclassname:"active",children:"Shopping cart"})})})]}),(0,G.jsx)(v.Z,{}),"/cart"===o.pathname?(0,G.jsx)(Q,{}):(0,G.jsx)(ne,{})]}),u=void 0!==n?function(){return n().document.body}:void 0;return(0,G.jsxs)(m.Z,{sx:{display:"flex"},children:[(0,G.jsx)(f.ZP,{}),(0,G.jsx)(x.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(c,"px)")},ml:{sm:"".concat(c,"px")}},children:(0,G.jsxs)(w.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,G.jsx)(j.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:d,sx:{mr:2,display:{sm:"none"}},children:(0,G.jsx)(h.Z,{})}),(0,G.jsx)(P.Z,{variant:"h5",noWrap:!0,component:"div",children:"Good|Food"}),(0,G.jsx)(P.Z,{variant:"p",noWrap:!0,component:"div",children:s.name&&"Hello, ".concat(s.name)})]})}),(0,G.jsxs)(m.Z,{component:"nav",sx:{width:{sm:c},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,G.jsx)(Z.ZP,{container:u,variant:"temporary",open:i,onClose:d,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:c}},children:l}),(0,G.jsx)(Z.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:c}},open:!0,children:l})]}),(0,G.jsxs)(m.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(c,"px)")}},children:[(0,G.jsx)(w.Z,{}),"/cart"===o.pathname?(0,G.jsx)($,{}):(0,G.jsx)(ae,{})]})]})}},2035:function(e,n,r){r.r(n),r.d(n,{default:function(){return a}});var t=r(6981),i=r(184),a=function(){return(0,i.jsx)("div",{children:(0,i.jsx)(t.Z,{})})}}}]);
//# sourceMappingURL=35.084ea11e.chunk.js.map